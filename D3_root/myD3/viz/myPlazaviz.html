<!DOCTYPE html>
<html>
<head>
	<meta charset = "utf-8">
	<script src = "d3.js"></script>
	<style>
	div.chart{
		font-family: sans-serif;
		font-size: 0.7em
	}
	div.bar{
		background-color: DarkBlue;
		color: white;
		height: 3em;
		line-height: 3em;
		padding-right: 1em;
		margin-bottom: 2px;
		text-align: right;
		margin-left: 22em;
	}
	div.label{
		height: 3em;
		line-height: 3em;
		padding-right: 1em;
		margin-bottom: 2px;
		float: left;
		width: 20em;
		text-align: right;
		font: sans-serif;
		font-family: sans-serif;
		font-style: bold;
		font-weight: 10em;
	}
	</style>
	<script>
	function draw(data){
		"use strict";

		d3.select("body")
		  .append("div")
		     .attr("class","chart")
		  .selectAll(".bar")
		  .data(data.cash)
		  .data(data.electronic)
		  .enter()
		  .append("div")
		     .attr("class","line")

		d3.selectAll("div.line")
		 	.append("div")
		 		.attr("class","label")
		 		.text(function(d){return d.name});

		d3.selectAll("div.line")
			 .append("div")
			 	.attr("class","bar")	 	
		     	.style("width",function(d){return d.count/100 + "px"})
		     	.style("height","3em")
		     	.text(function(d){return Math.round(d.count)});   
	}
	</script>
</head>
<body>	
	<script>
	d3.json("data/plaza_traffic.json",draw)
	</script>
</body>
</html>